# 图片管理方法

`2022.01.20`
之前是一直对图片手动处理：按照日期重命名，有附加信息的用`#标签`表面（有程序可以辅助完成）, 然后通过文件夹结构对图片进行归档.
目前我还是很喜欢这种方法的，一目了然，不需要其他软件.
这两天使用 digiKam , 觉得可以辅助一下，它可以识别图像中的人脸信息并标注，未来有需要的时候或许有用.

## 图片本身处理

主要是文件名重命名（其他元信息不好修改）
新的文件名：`日期 #注释信息` （日期是图片的创建日期）
通过程序辅助完成~
> 可能是拷贝过程中的一些问题，有时候图片的创建日期会和实际上的不一样，所以备份图片时尽量及时备份. 日期标好了就不要再改了.

重命名过后归入不同的文件夹归档。目前 `2022.01.20` 图片文件主要分为

- 一般图片：`♒Pictures` 各种类型的图片
- 日常图片：`This is my life` 按月分文件夹
- 电影截图，一般就和电影视频文件放在一起了
- 漫画相关的图片，也放到 `♒Comics` 里面了

## 软件：digiKam

> [The digiKam Handbook](https://docs.kde.org/trunk5/en/digikam-doc/digikam/index.html)
> [digiKam - Documentation](https://www.digikam.org/documentation/)
>
> [神仙软件！图片管理工具 Digikam 测评 - 知乎](https://zhuanlan.zhihu.com/p/58758918) 里面有一些配置方法

这个软件是开源的，并且更新频率还挺快的，所以选了它. 数据库文件直接保存在本地
另外一个好处是，这个软件是直接基于本地的文件，更改了本地这个软件能自动更新，有些软件是把本地和软件里的分开了.

### 关于检索图片

高级搜索功能还是很强大的~
![](assets/%E5%9B%BE%E7%89%87%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95/2022-01-20-18-07-04.png)
有一个坑就是，这个软件的文件夹选择不包括子文件夹内部的内容. 就比如文件夹 A 包含了 A1, A2, 搜索图片的时候选择 A, 那么 A1, A2 里面的图片不会被搜索.

### 关于人脸信息识别

digiKam 工作原理是把人脸识别分为两个步骤
![](assets/%E5%9B%BE%E7%89%87%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95/2022-01-20-16-47-10.png)

1. 第一步是检测人脸，通过算法把图片中疑似人脸的框框都标出来，出现在`未知`里面，这部分可能会把猫猫狗狗的脸给框出来
2. 检测出人脸后，可能需要手动把一部分给打上标签（对于一个之前没有出现过的人，需要手动标一下他的名字，相同的人才会被识别到这个标签下）, 并且同一个名字的人脸图片越多后续识别精度越高；另外可以把一些人脸给忽略掉，归入`已忽略`
3. 第二步是识别人脸，把那些属于`未知`的图片通过程序猜测可能符合某个已有的标签，出现在`未确认`部分. 可以设定一个阈值（比如默认的`70%`), 表述可能性，可能性越高精度越高，但是低于阈值的图片仍然属于`未知`.
4. 最后一步就是手动确认归类结果，把错误的归入正确的标签.

之前用 Windows 自带的人脸识别，识别精度挺高，但是有很多就识别不到.
和这个对比的话，大概可以这样理解，识别算法输出的是一个概率，Windows 自带的把高概率的人脸给标出来，低概率的直接就不显示了；而这个软件则是广撒网，把所有可能的人脸都标出来，并且通过程序进行识别，识别不出来的手动确认或者忽略.
